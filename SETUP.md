# Setup Instructions

## Critical: Initialize Convex First!

Before running the Next.js app, you **must** initialize Convex. The generated API files are placeholders and need to be generated by Convex.

### Step 1: Initialize Convex

Run this command in your terminal:

```bash
npx convex dev
```

This will:
1. Create a Convex account (if you don't have one)
2. Generate all the proper `_generated` files
3. Provide you with a deployment URL
4. Watch for changes to your Convex functions

**Important:** Keep this command running in a separate terminal window.

### Step 2: Configure Environment Variables

After Convex initializes, it will create a `.env.local` file with your `NEXT_PUBLIC_CONVEX_URL`. You'll also need to add your Gemini API key:

```env
NEXT_PUBLIC_CONVEX_URL=https://your-convex-deployment.convex.cloud
NEXT_PUBLIC_GEMINI_API_KEY=your_gemini_api_key_here
```

### Step 3: Install Dependencies (if not done)

```bash
npm install
```

### Step 4: Run Next.js Dev Server

In a **new terminal window** (keep Convex running in the first one):

```bash
npm run dev
```

### Step 5: Open Your Browser

Navigate to `http://localhost:3000`

## Troubleshooting

### Error: "api is not defined" or "api.auth.login is not a function"

This means Convex hasn't been initialized yet. Run `npx convex dev` first.

### Error: "NEXT_PUBLIC_CONVEX_URL is not set"

Make sure you've run `npx convex dev` and it has created the `.env.local` file.

### Error: TypeScript errors about missing API properties

This is expected until you run `npx convex dev`. The placeholder API structure will be replaced with the real one.

### Error: bcrypt not working

Note: bcryptjs may not work in Convex's serverless environment. If you encounter issues:
1. Consider using Convex Auth (recommended for production)
2. Or hash passwords on the client side before sending to Convex
3. Or use a different authentication method

## Next Steps

1. Create an admin account by signing up with role "admin"
2. Create slots in the admin dashboard
3. Test the booking flow
4. Configure the chatbot with your Gemini API key


